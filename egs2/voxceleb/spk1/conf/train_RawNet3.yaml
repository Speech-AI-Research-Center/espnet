# RawNet3 reproduce recipe configuration.

frontend: raw

encoder: rawnet3
encoder_conf:
  model_scale: 8
  ndim: 1024
  sinc_stride: 16

pooling: chn_attn_stat
pooling_conf:
  input_size: 1536  # 1.5 * ndim of RawNet3 encoder

projector: rawnet3
projector_conf:
  input_size: 3072  # 2 * input_size of pooling
  output_size: 256

preprocessor: spk
preprocessor_conf:
  utt2spk: dump/raw/voxceleb2_dev/utt2spk
  spk2utt: dump/raw/voxceleb2_dev/spk2utt
  target_duration: 3.0
  sr: 16000
  num_eval: 1

loss: aamsoftmax
loss_conf:
  nOut: 256
  nClasses: 5994
  margin: 0.3
  scale: 15

optim: adam
